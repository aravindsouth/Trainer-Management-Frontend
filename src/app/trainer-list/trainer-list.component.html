<div class="container">
    <div class="table-wrapper">
        <div class="table-title">
            <div class="row">
                <div class="col-sm-8">
                    <h2><b>Trainers List</b></h2>
                </div>
                <div class="col-sm-4 w-25">
                    <input class="form-control" type="text" name="search" [(ngModel)]="searchText"  placeholder="Search Trainers...">
                </div> 
            </div>
        </div>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Contact</th>
                    <th>Approval</th>
                    <th>Assign Employment</th>
                    <th class="text-center">View</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let trainer of trainers | filter:searchText">
                    <td>{{trainer.trainer_id}}</td>
                    <td>{{trainer.name}}</td>
                    <td>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-fill" viewBox="0 0 16 16">
                            <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"/>
                          </svg>
                          <em> {{trainer.email}}</em><br>

                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone-fill" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
                          </svg>
                        {{trainer.phone}}
                    </td>
                    <td>
                        <button class="btn btn-warning" [disabled]="trainer.approved"
                            (click)="trainerApproval(trainer.email)">Approve</button>
                    </td>
                    <td>
                        <!-- <a href="#viewTrainerModal" class="view" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="View">&#xF1c5;</i></a> -->
                        <!-- <a href="#deleteTrainerModal" class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a> -->
                       
                        <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="viewTrainerModal"
                            [disabled]="!trainer.approved || trainer.employment_type" (click)="setEmploymentEmail(trainer)"> Assign Employment</button>
                        
                            <!-- <button class="btn btn-warning" [disabled]="trainer.approved"
                            (click)="trainerApproval(trainer.email)">Approve</button> -->

                            
                            <!-- <label for="employment"><small>Type of Employment:</small></label>
                            <select name="employment" formControlName="employmentType" id="employmentTypes" >
                                <option value="Industry Expert">Industry Expert</option>
                                <option value="Internal">Internal</option>
                                <option value="Empanelled">Empanelled</option>
                            </select> -->
                    </td>
                    <td class="text-center">

                        <a routerLink="/trainer-view">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                                <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
                                <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/>
                            </svg>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>

    </div>
</div>


<!-- Edit Modal HTML -->

<div id="viewTrainerModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="viewTrainerModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content" >
            <form [formGroup]="employmentForm" (ngSubmit)="onSubmit(employmentForm.value)">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewTrainerModalTitle">Assign - Employment Type</h5>

                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">   
                        <!-- <input type="email" class="form-control" required> -->
                        <label for="employment">Type of Employment:</label>

                            <select name="employment" formControlName="employmentType" id="employmentTypes">
                                <option value="Industry Expert">Industry Expert</option>
                                <option value="Internal">Internal</option>
                                <option value="Empanelled">Empanelled</option>
                            </select>
                        <!-- <label>Type of Employment</label>
                            <input list="employmentTypes" formControlName="employmentType">
                            <datalist id="employmentTypes">
                              <option value="Industry Expert">
                              <option value="Internal">
                              <option value="Empanelled">
                            </datalist> -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <button type="submit">Assign</button>
                    <p>Assigning will send email notification to the trainer</p>
                </div>
            </form>
        </div>
    </div>
</div>
